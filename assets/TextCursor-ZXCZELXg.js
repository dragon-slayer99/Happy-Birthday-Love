import{n as e,o as t,t as n}from"./index-luaE414U.js";var r=t(e()),i=t(n());function a({emoji:e=`❤️`,count:t=10,size:n=24,lerpFactor:a=.18,spread:o=6,hideNative:s=!0}){let c=(0,r.useRef)(null),l=(0,r.useRef)(null),u=(0,r.useRef)(Array.from({length:t}).map(()=>({x:-9999,y:-9999}))),d=(0,r.useRef)({x:-9999,y:-9999}),[,f]=(0,r.useState)(0);return(0,r.useEffect)(()=>{u.current=Array.from({length:t}).map((e,t)=>u.current[t]||{x:-9999,y:-9999}),f(e=>e+1)},[t]),(0,r.useEffect)(()=>{function e(e){let t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;d.current.x=t,d.current.y=n}return window.addEventListener(`mousemove`,e,{passive:!0}),window.addEventListener(`touchmove`,e,{passive:!0}),()=>{window.removeEventListener(`mousemove`,e),window.removeEventListener(`touchmove`,e)}},[]),(0,r.useEffect)(()=>{let e=[];if(!c.current)return;for(let n=0;n<t;n++){let t=c.current.querySelector(`.emoji-dot[data-index="${n}"]`);e.push(t)}function n(){let t=u.current,r=d.current;for(let n=0;n<t.length;n++){let i=n===0?r:t[n-1],s=i.x-t[n].x,c=i.y-t[n].y,l=Math.max(.01,a-n*(a/(o+t.length)));t[n].x+=s*l,t[n].y+=c*l;let u=e[n];u&&(u.style.transform=`translate3d(${t[n].x}px, ${t[n].y}px, 0) translate(-50%, -50%) scale(${1-n/(t.length*1.4)})`,u.style.opacity=`${Math.max(0,1-n/t.length*1.05)}`)}l.current=requestAnimationFrame(n)}return l.current=requestAnimationFrame(n),()=>cancelAnimationFrame(l.current)},[t,a,o]),(0,i.jsx)(`div`,{className:s?`emoji-trail-root hide-native-cursor`:`emoji-trail-root`,ref:c,"aria-hidden":`true`,children:Array.from({length:t}).map((t,r)=>(0,i.jsx)(`span`,{"data-index":r,className:`emoji-dot`,style:{fontSize:`${n}px`,width:`${n*1.2}px`,height:`${n*1.2}px`,lineHeight:`${n*1.2}px`},children:e},r))})}export{a as default};